# LING-L545

http://cl.indiana.edu/~ftyers/courses/2020/Autumn/L-545/

Programmed by: Anthony Bucco

The program for this module takes a corpus of untokenized Thai sentences and outputs a tokenized version using a variation of the MinMax algorithm (as I discussed with you in class). 

## Usage

Schema:

```bash
# inputs original.txt, outputs output.test.txt
cat original.txt | python3 maxmatch.py
```

Output:

```bash
# line number and untokenized text of entire line
!! line 998
lines[k] แต่เมื่อสภาตอบเขาอย่างชัดเจนโดยการไม่อนุญาตให้เขาเข้าร่วมชิงตำแหน่งกงสุล และให้เขามีทางเลือกระหว่างถอนทัพออกไปหรือกลายเป็นศัตรูของมหาชนนั้น เขาก็เข้าใจว่าไม่ว่าจะเลือกทางไหน ก็จะเป็นการยอมตกอยู่ในกำมือของศัตรูทางการเมืองของเขาโดยปราศจากสิ่งต่อรอง

# untokenized word count with word number, indices of token separation within word, input with untokenized text of entire line, and output of tokenized words from untokenized word
word_count 1
[3, 8, 11, 14, 17, 22, 28, 31, 34, 37, 43, 46, 49, 57, 60, 67, 68, 69, 70, 71, 72]
input: แต่เมื่อสภาตอบเขาอย่างชัดเจนโดยการไม่อนุญาตให้เขาเข้าร่วมชิงตำแหน่งกงสุล และให้เขามีทางเลือกระหว่างถอนทัพออกไปหรือกลายเป็นศัตรูของมหาชนนั้น เขาก็เข้าใจว่าไม่ว่าจะเลือกทางไหน ก็จะเป็นการยอมตกอยู่ในกำมือของศัตรูทางการเมืองของเขาโดยปราศจากสิ่งต่อรอง 

output: ['แต่', 'เมื่อ', 'สภา', 'ตอบ', 'เขา', 'อย่าง', 'ชัดเจน', 'โดย', 'การ', 'ไม่', 'อนุญาต', 'ให้', 'เขา', 'เข้าร่วม', 'ชิง', 'ตำแหน่ง', 'ก', 'ง', 'ส', 'ุ', 'ล', '']
word_count 2
[3, 6, 9, 11, 14, 19, 26, 29, 32, 35, 37, 41, 45, 49, 54, 57, 62, 63, 64, 65, 66]
input: แต่เมื่อสภาตอบเขาอย่างชัดเจนโดยการไม่อนุญาตให้เขาเข้าร่วมชิงตำแหน่งกงสุล และให้เขามีทางเลือกระหว่างถอนทัพออกไปหรือกลายเป็นศัตรูของมหาชนนั้น เขาก็เข้าใจว่าไม่ว่าจะเลือกทางไหน ก็จะเป็นการยอมตกอยู่ในกำมือของศัตรูทางการเมืองของเขาโดยปราศจากสิ่งต่อรอง 

output: ['และ', 'ให้', 'เขา', 'มี', 'ทาง', 'เลือก', 'ระหว่าง', 'ถอน', 'ทัพ', 'ออก', 'ไป', 'หรือ', 'กลาย', 'เป็น', 'ศัตรู', 'ของ', 'มหาชน', 'น', 'ั', '้', 'น', '']
word_count 3
[3, 5, 11, 14, 17, 20, 22, 27, 30, 31, 32, 33]
input: แต่เมื่อสภาตอบเขาอย่างชัดเจนโดยการไม่อนุญาตให้เขาเข้าร่วมชิงตำแหน่งกงสุล และให้เขามีทางเลือกระหว่างถอนทัพออกไปหรือกลายเป็นศัตรูของมหาชนนั้น เขาก็เข้าใจว่าไม่ว่าจะเลือกทางไหน ก็จะเป็นการยอมตกอยู่ในกำมือของศัตรูทางการเมืองของเขาโดยปราศจากสิ่งต่อรอง 

output: ['เขา', 'ก็', 'เข้าใจ', 'ว่า', 'ไม่', 'ว่า', 'จะ', 'เลือก', 'ทาง', 'ไ', 'ห', 'น', '']
word_count 4
[2, 4, 8, 11, 14, 16, 20, 22, 27, 30, 35, 41, 46, 49, 52, 55, 62, 66, 69, 71, 72]
input: แต่เมื่อสภาตอบเขาอย่างชัดเจนโดยการไม่อนุญาตให้เขาเข้าร่วมชิงตำแหน่งกงสุล และให้เขามีทางเลือกระหว่างถอนทัพออกไปหรือกลายเป็นศัตรูของมหาชนนั้น เขาก็เข้าใจว่าไม่ว่าจะเลือกทางไหน ก็จะเป็นการยอมตกอยู่ในกำมือของศัตรูทางการเมืองของเขาโดยปราศจากสิ่งต่อรอง 

output: ['ก็', 'จะ', 'เป็น', 'การ', 'ยอม', 'ตก', 'อยู่', 'ใน', 'กำมือ', 'ของ', 'ศัตรู', 'ทางการ', 'เมือง', 'ของ', 'เขา', 'โดย', 'ปราศจาก', 'สิ่ง', 'ต่อ', 'รอ', 'ง', '']

# output of final tokenized line
final: แต่ เมื่อ สภา ตอบ เขา อย่าง ชัดเจน โดย การ ไม่ อนุญาต ให้ เขา เข้าร่วม ชิง ตำแหน่ง ก ง ส ุ ล  และ ให้ เขา มี ทาง เลือก ระหว่าง ถอน ทัพ ออก ไป หรือ กลาย เป็น ศัตรู ของ มหาชน น ั ้ น  เขา ก็ เข้าใจ ว่า ไม่ ว่า จะ เลือก ทาง ไ ห น  ก็ จะ เป็น การ ยอม ตก อยู่ ใน กำมือ ของ ศัตรู ทางการ เมือง ของ เขา โดย ปราศจาก สิ่ง ต่อ รอ ง

```

## Performance

The part of the performance report run by evaluate.py can be seen in evaluate.performance.txt; however, the script ran into this error while running:

```bash
Traceback (most recent call last):
  File "evaluate.py", line 211, in <module>
    total_wer += wer(r, h)
  File "evaluate.py", line 195, in wer
    result = float(d[len(r)][len(h)]) / len(r) * 100
ZeroDivisionError: float division by zero
```

If you want to rerun the report, run the following command:

```bash
python3 evaluate.py tokenised.test.txt output.test.txt > evaluate.performance.txt
```

As my approach matched words from left to right instead of right to left like MaxMatch, lots of the right parts of words and non-Thai words separated into blocks of isolated single characters, although many accurate terms were matched. Here is an example block of lines comparing the tokenized.test.txt with their corresponding lines in output.test.txt:

```bash
# tokenized.test.txt
เพียงแค่ หยิบ มือ เดียว เท่านั้น ( ยศ แห่ง เอิร์ล ) เหลือ อยู่ ใน รัชสมัย พระเจ้า เฮนรี่ ที่ 1 และ ยศ เหล่า นี้ ได้ กลาย มา เป็น เครื่องหมาย ที่ ทรง เกียรติ มาก 
ช่วง สงคราม สัมพันธมิตร ครั้ง ที่ หนึ่ง นโปเลียน โบนาปาร์ต นาย ทหาร ปืน ใหญ่ หนุ่ม ชาว คอร์ซิกา เริ่ม เป็น ที่ จับตา มอง อย่างรวดเร็ว หลัง จาก การปฏิวัติ ฝรั่งเศส 
แม้ จะ ไม่ มี ผู้ เข้า มา คลี่คลาย ปัญหา ความขัดแย้ง แต่ ชัยชนะ ของ ฝรั่งเศส ใน ศึก มาเรนโก ก็ บีบบังคับ ให้ ชาว ออสเตรีย ต้อง ยอม ทิ้ง อิตาลี ไป เป็น หน ที่ สอง 
การเข้า มา ปิด ล้อม โดย กอง เรือ รบ วิลล์เนิฟ ส่ง ผล ให้ ต้อง ล้มเลิก แผนการ เข้า รุกราน เกาะ อังกฤษ ไป ทั้ง นี้ เพราะ การพัฒนา ใหม่ ๆ เกิด ขึ้น ใน ทวีป ด้วย 
จักรพรรดิ นโปเลียน ทรง มั่นพระทัย ว่า ความสำเร็จ ของ ออสเตอร์ลิตซ์ จะ นำ มา ซึ่ง สนธิสัญญา สงบ ศึก แต่ ความหวัง ของ พระองค์ ก็ ทลาย ลง ใน เวลา ไม่ นาน เมื่อ ลอร์ด เกร็นวิลล์ นายก รัฐมนตรี คน ใหม่ ของ อังกฤษ ปฏิเสธ ข้อ ตกลง ทั้งหมด และ พระเจ้า อเล็กซานเดอร์ ก็ ทรง ทำ แบบ เดียว กัน 
ใน แง่ วัตรปฏิบัติ ทาง ศาสนา ฟิโอเรลโล ได้ รับ การศึกษา ใน แบบ คริสตจักร อีพิสโคปาล และ ยังคง เป็น สมาชิก ของ คริสตจักร โปรเตสแตนต์ ตลอด ทั้ง ชีวิต ของ เขา 
ชาย คน นั้น บอก กับ เขา ว่า สงคราม ระหว่าง สอง จักรวาล กำลัง จะ มา ถึง ตาม ที่ เขา และ วอลเตอร์ ได้ พยากรณ์ ไว้ เพราะ เหตุ นี้ เอง ที่ โอลิเวีย ได้ รับ การฝึก ขณะ ที่ ยัง เด็ก ไม่ เหมือน คน อื่น ๆ 

# output.test.txt
เพียงแค่ ห ย ิ บ มือ เดียว เท่า น ั ้ น  ( ย ศ แห่ง เ อ ิ ร ์ ล )  เหลือ อยู่ ใน รัชสมัย พระเจ้า เฮนรี่ ที ่  1  และ ย ศ เหล่า นี้ ได้ กลาย มา เป็น เครื่อง ห มาย ที่ ทรง เกียรติ มา ก 
ช่วง สงคราม ส ั ม พันธมิตร ครั้ง ที่ ห น ึ ่ ง  น โป เ ลี ย น  โ บน า ป า ร ์ ต  นาย ทหาร ปืน ใหญ่ หนุ่ม ชาว คอ ร ์ ซ ิ ก า เริ่ม เป็น ที่ จับ ตาม อ ง อย่างรวดเร็ว หลัง จาก การปฏิวัติ ฝ ร ั ่ ง เ ศ ส 
แม้ จะ ไม่ มี ผู้ เข้า มา ค ลี ่ ค ล า ย ปัญหา ความ ขัด แ ย ้ ง  แต่ ชัยชนะ ของ ฝรั่งเศส ใน ศึก มาเร น โ ก ก็ บ ี บ บังคับ ให้ ชาว ออสเตรีย ต้อง ยอม ทิ้ง อิตาลี ไป เป็น ห น ที่ ส อ ง 
การเข้า มา ปิด ล้อม โดย กอง เรือ รบ ว ิ ล ล ์ เ น ิ ฟ ส่ง ผล ให้ ต้อง ล ้ ม เ ล ิ ก แผนการ เข้า รุกราน เกาะ อังกฤษ ไ ป  ทั้ง นี้ เพราะ การพัฒนา ใหม่ ๆ  เกิด ขึ้น ใน ทวีป ด ้ ว ย 
จักรพรรดิ น โป เลียน ทรง ม ั ่ น พระ ท ั ย ว่า ความสำเร็จ ของ อ อ ส เ ต อ ร ์ ล ิ ต ซ ์ จะ นำ มา ซึ่ง สนธิสัญญา สงบ ศ ึ ก  แต่ ความหวัง ของ พระองค์ ก็ ท ล า ย ลง ใน เวลา ไม่ นา น  เมื่อ ลอร์ด เ ก ร ็ น ว ิ ล ล ์  นายก รัฐมนตรี คน ใหม่ ของ อังกฤษ ปฏิเสธ ข้อ ตกลง ทั้งหมด และ พระเจ้า อเล็กซานเดอร์ ก็ ทรง ทำ แบบ เดียว ก ั น 
ใน แง่ ว ั ต ร ปฏิบัติ ทาง ศ า สน า  ฟ ิ โ อ เ ร ล โ ล ได้รับ การศึกษา ใน แบบ คริส ต จักร อ ี พ ิ ส โ ค ป า ล  และ ยังคง เป็น สมาชิก ของ คริส ต จักร โป ร เ ต ส แ ตน ต ์ ตลอด ทั้ง ชีวิต ของ เ ข า 
ชาย คน นั้น บอก กับ เขา ว่า สงคราม ระหว่าง สอง จักรวาล กำลัง จะ มา ถึง ตาม ที่ เขา และ ว อ ล เ ต อ ร ์ ได้ พยากรณ์ ไว ้  เพราะ เหตุ นี้ เอง ที่ โ อ ล ิ เ ว ี ย ได้รับ การฝึก ขณะ ที่ ยัง เด็ก ไม่ เหมือน คน อื่น ๆ
```

## License

[MIT](https://choosealicense.com/licenses/mit/)